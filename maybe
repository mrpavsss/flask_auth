
        now = time.time()
        duration = round(now - g.start, 2)
        dt = datetime.datetime.fromtimestamp(now)
        timestamp = rfc3339(dt, utc=True)

        host = request.host.split(':', 1)[0]
        args = dict(request.args)

        log_params = [
            ('duration', duration),
            ('time', timestamp),
            ('params', args)
        ]

        request_id = request.headers.get('X-Request-ID')
        if request_id:
            log_params.append(('request_id', request_id))

        parts = []
        for name, value in log_params:
            part = name + ': ' + str(value) + ', '
            parts.append(part)
        line = " ".join(parts)
        # this triggers a log entry to be created with whatever is in the line variable
        app.logger.info('this is the plain message')

